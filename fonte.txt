// Caso tenha sido chamado do loja faz tratamento especifico
If (FunName()$"LOJA701|LOJXREC|RPC")
    //salva o Array aBaixaSE5 para recompor se retornar vazio la do loja quando chamado diretamente do remote
    aOldBaixaSE5 := aClone(aBaixaSE5)
    // Alimenta campo E1_VALLIQ com valor da penultima baixa(SE5) parcial caso exista
    SE1->E1_VALLIQ  := SE1ValLiq(E1_PREFIXO,E1_NUM,E1_PARCELA,E1_TIPO,E1_CLIENTE,E1_LOJA)
    If FunName()=="RPC" .And. Empty(aBaixaSE5)  //se estiver vazio recompoe o array aBaixaSe5 salvo
        aBaixaSE5 := aClone(aOldBaixaSE5)
    EndIf
Else
    If lE1_VALLIQ
        nRegCanSE1 := SE1->(Recno()) //Registro será atualizado após contabilização.
    Else
        SE1->E1_VALLIQ  := 0 // Padrao Financeiro
    EndIf
EndIf